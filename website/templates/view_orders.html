{% extends 'base.html' %}

{% block title %} Admin - View Orders {% endblock %}

{% block body %}

<h2 class="text-center mt-4 mb-4">All Orders</h2>

<table class="table table-dark table-hover">
<thead>
    <tr>
        <th>Order ID</th>
        <th>Customer</th>
        <th>Email</th>
        <th>Total Price</th>
        <th>Items</th>
        <th>Payment Method</th>
        <th>Status</th>
        <th>Date Created</th>
        <th>Actions</th>
    </tr>
</thead>

<tbody>
    {% for order in orders %}
    <tr>
        <td>{{ order.id }}</td>
        <td>{{ order.customer.username }}</td>
        <td>{{ order.customer.email }}</td>
        <td>â‚±{{ "%.2f"|format(order.total_price) }}</td>
        <td>{{ order.items|length }}</td>
        <td>{{ order.payment_method }}</td>
        <td>{{ order.status }}</td>
        <td>{{ order.date_created.strftime('%Y-%m-%d %H:%M') }}</td>
        <td>
            <a href="{{ url_for('admin.update_order', order_id=order.id) }}" class="btn btn-warning btn-sm">Update Status</a>
        </td>
    </tr>
    {% else %}
    <tr>
        <td colspan="9" class="text-center">No orders found.</td>
    </tr>
    {% endfor %}
</tbody>
</table>

{% endblock %}
